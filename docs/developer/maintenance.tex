\section{Maintenance on commute.napier.ac.uk}

These commands use absolute paths which exist on commute.napier.ac.uk. The paths in these commands will likely need to be changed if running on a different machine.

\subsection{Switching from testing to production}

\begin{minted}{bash}
	docker-compose down
	docker-compose -f /home/40180582/Napier-Map-Elites/docker-compose.production.yml build
	docker-compose -f /home/40180582/Napier-Map-Elites/docker-compose.production.yml up -d
\end{minted}

\subsection{Switching from production to testing}

\begin{minted}{bash}
	docker-compose down
	docker-compose build
	docker-compose up -d
\end{minted}

\subsection{Updating SSL certificates}

The server SSL certificates are generated using LetsEncrypt\footnote{https://letsencrypt.org/}. To update them run the following commands.

\begin{minted}{bash}
	docker-compose down
	docker run --rm -it -p 80:80 -v /etc/letsencrypt:/etc/letsencrypt certbot/certbot renew
	cp /etc/letsencrypt/live/commute.napier.ac.uk/* $SSL_LOCATION
	docker-compose -f /home/40180582/Napier-Map-Elites/docker-compose.production.yml up -d
\end{minted}
